<!DOCTYPE html>
<!--[if lt IE 9]><html class='ie8' lang='en'><![endif]-->
<!--[if IE 9]><html class='ie9' lang='en'><![endif]-->
<!--[if gt IE 9]><!-->
<html lang='en' style=''>
<!--<![endif]-->

<head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <meta name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no'>
  <meta name='description' content=''>

  <title>
    <%= I18n.t('app.name') %>
  </title>
  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>
  <%= stylesheet_pack_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
  <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
</head>

<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <a class="navbar-brand" href="#">
      <%= image_pack_tag 'media/images/logos/nhs.svg', width: '100 px' %>
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class='collapse navbar-collapse' id='navbarSupportedContent'>
      <ul class='navbar-nav mr-auto'>
        <li class='nav-item active'>
          <%= link_to admin_dashboard_path, class: 'nav-link' do %>
            <%= I18n.t('nav.admin_dashboard') %>
          <% end %>
        </li>
        <li class="nav-item">
          <%= link_to teams_dashboard_path, class: 'nav-link' do %>
            <%= I18n.t('nav.team_dashboard') %>
          <% end %>
        </li>
      </ul>
      <ul class='navbar-nav ml-auto'>
        <li class='nav-item'>
          <% if user_authenticated? %>
            <%= link_to auth_logout_path, class: 'nav-link' do %>
              <%= I18n.t('auth.log_out') %> <%= current_user_name %>
              <%= icon('arrow-right-square', class: 'mx-2', width: '2em') %>
            <% end %>
          <% else %>
            <%= button_to root_url + 'auth/auth0', method: :post, type: 'button', class: 'btn btn-primary' do %>
              <%= I18n.t('auth.log_in') %>
              <%= icon('arrow-right-square', class: 'mx-2', width: '2em') %>
            <% end %>
          <% end %>
        </li>
      </ul>
    </div>
  </nav>

  <main>
    <div class='container'>
      <%= yield %>
    </div>
  </main>

  <footer class='page-footer font-small blue'>
    <div class='container'>
      <div class='d-flex justify-content-start'>
        <div class='text-center m-4'>
          <a href='/api_docs'><%= I18n.t('footer.api_docs') %></a>
        </div>
      </div>
    </div>
  </footer>

</body>

</html>
